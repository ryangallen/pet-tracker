{% extends "base.html" %}
{% load staticfiles %}

{% block prefix %}
<script src="{% static 'vendor/js/angular/angular.min.js' %}"></script>
<script src="{% static 'vendor/js/angular/angular-resource.min.js' %}"></script>
<script src="{% static 'vendor/js/angular/angular-route.min.js' %}"></script>
<script src="{% static 'vendor/js/underscore.min.js' %}"></script>
{% endblock prefix %}

{% block ngapp %}ng-app="petTrackerApp" ng-controller="PetTrackerController"{% endblock ngapp %}

{% block content %}
<table>
    <thead>
        <tr>
            <th ng-class="{ascending: ordering=='id',
                           descending: ordering=='-id'}"
                ng-click="order('id')">
                ID
            </th>
            <th ng-class="{ascending: ordering=='name',
                           descending: ordering=='-name'}"
                ng-click="order('name')">
                Name
            </th>
            <th ng-class="{ascending: ordering=='breed.animal.name',
                           descending: ordering=='-breed.animal.name'}"
                ng-click="order('breed.animal.name')">
                Animal
            </th>
            <th ng-class="{ascending: ordering=='breed.name',
                           descending: ordering=='-breed.name'}"
                ng-click="order('breed.name')">
                Breed
            </th>
            <th ng-class="{ascending: ordering=='birthday',
                           descending: ordering=='-birthday'}"
                ng-click="order('birthday')">
                Birthday
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="pet in pets | orderBy: ordering">
            <td>[[ pet.id ]]</td>
            <td>[[ pet.name ]]</td>
            <td>[[ pet.breed.animal.name ]]</td>
            <td>[[ pet.breed.name ]]</td>
            <td>[[ pet.birthday | date ]]</td>
        </tr>
    </tbody>
</table>
{% endblock content %}

{% block postfix %}
<script src="{% static 'js/app.js' %}"></script>
<script src="{% static 'js/controllers.js' %}"></script>
<script src="{% static 'js/directives.js' %}"></script>
<script src="{% static 'js/services.js' %}"></script>
{% endblock postfix %}
